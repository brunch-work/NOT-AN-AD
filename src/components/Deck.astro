---
import "../styles/components/deck.css";

import NotAnAdLogo from "../assets/images/svg/NOT_AN_AD_LOGO.svg";
import TapeIcon from "../assets/images/svg/tape_icon.svg";
import IconStrategy from "../assets/images/svg/icon_strategy.svg";
import IconPartnership from "../assets/images/svg/icon_partnerships.svg";
import IconContent from "../assets/images/svg/icon_content.svg";
import IconEarnedMedia from "../assets/images/svg/icon_earned_media.svg";
import IconAmplification from "../assets/images/svg/icon_amplification.svg";

import CaseStudy from "./CaseStudy.astro";
---

<div>
  <span id="top"> </span>
  <header class="container-i">
    <a href="/" aria-label="Home">
      <NotAnAdLogo class="deck-header--logo" fill="currentColor" />
    </a>
    <nav>
      <details role="combobox" aria-label="Sections">
        <summary>Not an ad</summary>
        <ul role="listbox">
          <li role="option"><a href="#not-an-ad">Not an ad</a></li>
          <li role="option"><a href="#services">Services</a></li>
          <li role="option"><a href="#case-studies">Case studies</a></li>
        </ul>
      </details>
      <details role="combobox" aria-label="Case study categories">
        <summary>UGC</summary>
        <ul role="listbox">
          <li role="option">
            <a href="#">UGC</a>
          </li>
          <li role="option">
            <a href="#">Studio</a>
          </li>
          <li role="option">
            <a href="#">Broadcast</a>
          </li>
          <li role="option">
            <a href="#">Partnerships</a>
          </li>
        </ul>
      </details>
    </nav>
  </header>

  <div class="container padding-inline-0">
    <section class="intro container-i" id="not-an-ad">
      <figure class="first-content">
        <div class="placeholder placeholder-v">
          <img src="https://placehold.co/1080x1920" alt="" />
        </div>
      </figure>
      <h1>
        NOT AN AD<NotAnAdLogo class="inline-icon" fill="currentColor" />is a
        social media<br />
        advertising agency<TapeIcon class="inline-icon" />based<br />
        in new york city
      </h1>
    </section>
    <section class="services container-i" id="services">
      <div class="services--grid">
        <h2>[<span>↘</span>] Services</h2>
        <article>
          <h3>
            <IconStrategy
              fill="currentColor"
              width="1em"
              height="1em"
            />Strategy
          </h3>
          <p>
            ↳ In eiusmod occaecat aute magna veniam elit minim consectetur
            adipisicing exercitation pariatur exercitation veniam magna. Labore
            nisi laboris tempor sint non.
          </p>
        </article>
        <article>
          <h3>
            <IconPartnership
              fill="currentColor"
              width="1em"
              height="1em"
            />Partnerships
          </h3>
          <p>
            ↳ In eiusmod occaecat aute magna veniam elit minim consectetur
            adipisicing exercitation pariatur exercitation veniam magna. Labore
            nisi laboris tempor sint non.
          </p>
        </article>
        <article>
          <h3>
            <IconContent fill="currentColor" width="1em" height="1em" />Content
            creation
          </h3>
          <p>
            ↳ In eiusmod occaecat aute magna veniam elit minim consectetur
            adipisicing exercitation pariatur exercitation veniam magna. Labore
            nisi laboris tempor sint non.
          </p>
        </article>
        <article>
          <h3>
            <IconEarnedMedia
              fill="currentColor"
              width="1em"
              height="1em"
            />Earned media
          </h3>
          <p>
            ↳ In eiusmod occaecat aute magna veniam elit minim consectetur
            adipisicing exercitation pariatur exercitation veniam magna. Labore
            nisi laboris tempor sint non.
          </p>
        </article>
        <article>
          <h3>
            <IconAmplification
              fill="currentColor"
              width="1em"
              height="1em"
            />Amplification
          </h3>
          <p>
            ↳ In eiusmod occaecat aute magna veniam elit minim consectetur
            adipisicing exercitation pariatur exercitation veniam magna. Labore
            nisi laboris tempor sint non.
          </p>
        </article>
      </div>
    </section>
  </div>
  <section class="case-studies" id="case-studies">
    <div class="container">
      <div class="case-studies--grid">
        <h2>[<span>↘</span>] UGC</h2>
        <ul>
          <li><a href="#dominos">Domino's</a></li>
          <li><a href="#dunkin">Dunkin</a></li>
          <li><a href="#doordash">Doordash</a></li>
        </ul>
      </div>
      <span class="marquee">
        | →[case studies]* <span aria-hidden="true"
          >| →[case studies]* | →[case studies]* | →[case studies]* | →[case
          studies]* | →[case studies]*
        </span>
      </span>
    </div>
  </section>
  <div class="container padding-inline-0">
    <section class="case-study container-i" id="dominos">
      <aside>
        <h3>UGC | [Domino's]</h3>
        <p>▮ _ Year of the project - 2023</p>
        <a href="#">[↗] Link</a>
        <p>
          In eiusmod occaecat aute magna veniam elit minim consectetur
          adipisicing exercitation par iatur exercitation veniam magna. Labore
          nisi laboris tempor sint non. Deserunt eiusmod esse exercitation.
          Pariatur consequat in excepteur quis voluptate aliquip aute deserunt
          non. Sunt ipsum proident laboris sint occaecat ad exercitation nostrud
          ullamco fugiat nisi ex ullamco dolor.
        </p>
      </aside>
      <ul class="content-grid" data-view="grid">
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="s"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1080x1080" alt="" />
        </CaseStudy>
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="v"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1080x1920" alt="" />
        </CaseStudy>
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="h"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1920x1080" alt="" />
        </CaseStudy>
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="s"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1080x1080" alt="" />
        </CaseStudy>
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="h"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1920x1080" alt="" />
        </CaseStudy>

        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="v"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1080x1920" alt="" />
        </CaseStudy>
      </ul>
    </section>
    <section class="case-study container-i" id="dunkin">
      <aside>
        <h3>UGC | [Domino's]</h3>
        <p>▮ _ Year of the project - 2023</p>
        <a href="#">[↗] Link</a>
        <p>
          In eiusmod occaecat aute magna veniam elit minim consectetur
          adipisicing exercitation par iatur exercitation veniam magna. Labore
          nisi laboris tempor sint non. Deserunt eiusmod esse exercitation.
          Pariatur consequat in excepteur quis voluptate aliquip aute deserunt
          non. Sunt ipsum proident laboris sint occaecat ad exercitation nostrud
          ullamco fugiat nisi ex ullamco dolor.
        </p>
      </aside>
      <ul class="content-grid" data-view="grid">
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="s"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1080x1080" alt="" />
        </CaseStudy>
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="v"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1080x1920" alt="" />
        </CaseStudy>
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="h"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1920x1080" alt="" />
        </CaseStudy>
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="s"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1080x1080" alt="" />
        </CaseStudy>
        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="h"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1920x1080" alt="" />
        </CaseStudy>

        <CaseStudy
          id="s1"
          title="Square"
          category="strategy"
          year="2025"
          shape="v"
        >
          <IconStrategy
            slot="icon"
            fill="currentColor"
            width="15"
            height="15"
            role="presentation"
          />
          <img slot="image" src="https://placehold.co/1080x1920" alt="" />
        </CaseStudy>
      </ul>
    </section>

    <footer class="intro-footer">
      <TapeIcon />
      <span id="intro-time">15:32:00</span>
    </footer>
  </div>
</div>
<dialog id="lightbox">
  <header>
    <NotAnAdLogo width={24} fill="currentColor" />
    <button class="button">[ X ]</button>
  </header>
  <figure class="modal-content"></figure>
</dialog>
<script>
  const introTime = document.getElementById("intro-time") as HTMLSpanElement;

  function updateTime() {
    const time = new Date();
    const formattedTime = time.toLocaleTimeString("en-US", { hour12: false });
    introTime.textContent = formattedTime;
  }

  updateTime();
  setInterval(updateTime, 1000);

  /** navigation selector */
  //const nav = document.querySelector("nav") as HTMLElement;
  const topLevelLinks = document.querySelectorAll(
    "nav a"
  ) as NodeListOf<HTMLAnchorElement>;

  function handleNavigation(i: number, event: Event) {
    const target = event.target as HTMLAnchorElement;
    // find the parent details element and grab its summary

    const details = target.closest("details");
    const summary = details?.querySelector("summary");
    const subLinks = details?.querySelectorAll("a");

    if (summary) {
      summary.innerHTML = target.innerHTML;
      details?.removeAttribute("open");
      subLinks?.forEach((l) => l.removeAttribute("aria-selected"));
    }
    target.setAttribute("aria-selected", "true");
  }

  topLevelLinks.forEach((link, i) => {
    link.addEventListener("click", (e) => handleNavigation(i, e));
  });
</script>
<script src="../scripts/lightbox.js"></script>
